import os
from django.shortcuts import HttpResponse, render
from base.apps import write_pdf
from decouple import config

DIR_BASE = os.path.dirname(__file__)
TEMPLATE_PATH = os.path.join(DIR_BASE, 'static\\files\\neo_form.pdf')
OUTPUT_PATH = os.path.join(DIR_BASE, 'static\\files\\neo_resp.pdf')

AWS_ACCESS_KEY_ID = config('AWS_ACCESS_KEY_ID', default=None)

if AWS_ACCESS_KEY_ID:
    TEMPLATE_PATH = os.path.join(DIR_BASE, 'static/files/neo_form.pdf')
    OUTPUT_PATH = os.path.join(DIR_BASE, 'static/files/neo_resp.pdf')


def home(request):
    return render(request, 'base/home.html')


data_dict = {}


def page1(request):
    request.session['row_1'] = request.POST.get('row1')
    data_dict['row_2'] = request.POST.get('row2')
    data_dict['row_3'] = request.POST.get('row3')
    data_dict['row_4'] = request.POST.get('row4')
    data_dict['row_5'] = request.POST.get('row5')
    data_dict['row_6'] = request.POST.get('row6')
    data_dict['row_7'] = request.POST.get('row7')
    data_dict['row_8'] = request.POST.get('row8')
    data_dict['row_9'] = request.POST.get('row9')
    data_dict['row_10'] = request.POST.get('row10')
    data_dict['row_11'] = request.POST.get('row11')
    data_dict['row_12'] = request.POST.get('row12')
    data_dict['row_13'] = request.POST.get('row13')
    data_dict['row_14'] = request.POST.get('row14')
    data_dict['row_15'] = request.POST.get('row15')
    data_dict['row_16'] = request.POST.get('row16')
    data_dict['row_17'] = request.POST.get('row17')
    data_dict['row_18'] = request.POST.get('row18')
    data_dict['row_19'] = request.POST.get('row19')
    data_dict['row_20'] = request.POST.get('row20')
    data_dict['row_21'] = request.POST.get('row21')
    data_dict['row_22'] = request.POST.get('row22')
    data_dict['row_23'] = request.POST.get('row23')
    data_dict['row_24'] = request.POST.get('row24')
    return render(request, 'page1.html')


def page2(request):
    data_dict['row_25'] = request.POST.get('row25')
    data_dict['row_26'] = request.POST.get('row26')
    data_dict['row_27'] = request.POST.get('row27')
    data_dict['row_28'] = request.POST.get('row28')
    data_dict['row_29'] = request.POST.get('row29')
    data_dict['row_30'] = request.POST.get('row30')
    data_dict['row_31'] = request.POST.get('row31')
    data_dict['row_32'] = request.POST.get('row32')
    data_dict['row_33'] = request.POST.get('row33')
    data_dict['row_34'] = request.POST.get('row34')
    data_dict['row_35'] = request.POST.get('row35')
    data_dict['row_36'] = request.POST.get('row36')
    data_dict['row_37'] = request.POST.get('row37')
    data_dict['row_38'] = request.POST.get('row38')
    data_dict['row_39'] = request.POST.get('row39')
    data_dict['row_40'] = request.POST.get('row40')
    data_dict['row_41'] = request.POST.get('row41')
    data_dict['row_42'] = request.POST.get('row42')
    data_dict['row_43'] = request.POST.get('row43')
    data_dict['row_44'] = request.POST.get('row44')
    data_dict['row_45'] = request.POST.get('row45')
    data_dict['row_46'] = request.POST.get('row46')
    data_dict['row_47'] = request.POST.get('row47')
    data_dict['row_48'] = request.POST.get('row48')
    return render(request, 'page2.html')


def page3(request):
    data_dict['row_49'] = request.POST.get('row49')
    data_dict['row_50'] = request.POST.get('row50')
    data_dict['row_51'] = request.POST.get('row51')
    data_dict['row_52'] = request.POST.get('row52')
    data_dict['row_53'] = request.POST.get('row53')
    data_dict['row_54'] = request.POST.get('row54')
    data_dict['row_55'] = request.POST.get('row55')
    data_dict['row_56'] = request.POST.get('row56')
    data_dict['row_57'] = request.POST.get('row57')
    data_dict['row_58'] = request.POST.get('row58')
    data_dict['row_59'] = request.POST.get('row59')
    data_dict['row_60'] = request.POST.get('row60')
    data_dict['row_61'] = request.POST.get('row61')
    data_dict['row_62'] = request.POST.get('row62')
    data_dict['row_63'] = request.POST.get('row63')
    data_dict['row_64'] = request.POST.get('row64')
    data_dict['row_65'] = request.POST.get('row65')
    data_dict['row_66'] = request.POST.get('row66')
    data_dict['row_67'] = request.POST.get('row67')
    data_dict['row_68'] = request.POST.get('row68')
    data_dict['row_69'] = request.POST.get('row69')
    data_dict['row_70'] = request.POST.get('row70')
    data_dict['row_71'] = request.POST.get('row71')
    data_dict['row_72'] = request.POST.get('row72')
    return render(request, 'page3.html')


def page4(request):
    data_dict['row_73'] = request.POST.get('row73')
    data_dict['row_74'] = request.POST.get('row74')
    data_dict['row_75'] = request.POST.get('row75')
    data_dict['row_76'] = request.POST.get('row76')
    data_dict['row_77'] = request.POST.get('row77')
    data_dict['row_78'] = request.POST.get('row78')
    data_dict['row_79'] = request.POST.get('row79')
    data_dict['row_80'] = request.POST.get('row80')
    data_dict['row_81'] = request.POST.get('row81')
    data_dict['row_82'] = request.POST.get('row82')
    data_dict['row_83'] = request.POST.get('row83')
    data_dict['row_84'] = request.POST.get('row84')
    data_dict['row_85'] = request.POST.get('row85')
    data_dict['row_86'] = request.POST.get('row86')
    data_dict['row_87'] = request.POST.get('row87')
    data_dict['row_88'] = request.POST.get('row88')
    data_dict['row_89'] = request.POST.get('row89')
    data_dict['row_90'] = request.POST.get('row90')
    data_dict['row_91'] = request.POST.get('row91')
    data_dict['row_92'] = request.POST.get('row92')
    data_dict['row_93'] = request.POST.get('row93')
    data_dict['row_94'] = request.POST.get('row94')
    data_dict['row_95'] = request.POST.get('row95')
    data_dict['row_96'] = request.POST.get('row96')
    return render(request, 'page4.html')


def page5(request):
    data_dict['row_97'] = request.POST.get('row97')
    data_dict['row_98'] = request.POST.get('row98')
    data_dict['row_99'] = request.POST.get('row99')
    data_dict['row_100'] = request.POST.get('row100')
    data_dict['row_101'] = request.POST.get('row101')
    data_dict['row_102'] = request.POST.get('row102')
    data_dict['row_103'] = request.POST.get('row103')
    data_dict['row_104'] = request.POST.get('row104')
    data_dict['row_105'] = request.POST.get('row105')
    data_dict['row_106'] = request.POST.get('row106')
    data_dict['row_107'] = request.POST.get('row107')
    data_dict['row_108'] = request.POST.get('row108')
    data_dict['row_109'] = request.POST.get('row109')
    data_dict['row_110'] = request.POST.get('row110')
    data_dict['row_111'] = request.POST.get('row111')
    data_dict['row_112'] = request.POST.get('row112')
    data_dict['row_113'] = request.POST.get('row113')
    data_dict['row_114'] = request.POST.get('row114')
    data_dict['row_115'] = request.POST.get('row115')
    data_dict['row_116'] = request.POST.get('row116')
    data_dict['row_117'] = request.POST.get('row117')
    data_dict['row_118'] = request.POST.get('row118')
    data_dict['row_119'] = request.POST.get('row119')
    data_dict['row_120'] = request.POST.get('row120')
    return render(request, 'page5.html')


def page6(request):
    data_dict['row_121'] = request.POST.get('row121')
    data_dict['row_122'] = request.POST.get('row122')
    data_dict['row_123'] = request.POST.get('row123')
    data_dict['row_124'] = request.POST.get('row124')
    data_dict['row_125'] = request.POST.get('row125')
    data_dict['row_126'] = request.POST.get('row126')
    data_dict['row_127'] = request.POST.get('row127')
    data_dict['row_128'] = request.POST.get('row128')
    data_dict['row_129'] = request.POST.get('row129')
    data_dict['row_130'] = request.POST.get('row130')
    data_dict['row_131'] = request.POST.get('row131')
    data_dict['row_132'] = request.POST.get('row132')
    data_dict['row_133'] = request.POST.get('row133')
    data_dict['row_134'] = request.POST.get('row134')
    data_dict['row_135'] = request.POST.get('row135')
    data_dict['row_136'] = request.POST.get('row136')
    data_dict['row_137'] = request.POST.get('row137')
    data_dict['row_138'] = request.POST.get('row138')
    data_dict['row_139'] = request.POST.get('row139')
    data_dict['row_140'] = request.POST.get('row140')
    data_dict['row_141'] = request.POST.get('row141')
    data_dict['row_142'] = request.POST.get('row142')
    data_dict['row_143'] = request.POST.get('row143')
    data_dict['row_144'] = request.POST.get('row144')
    return render(request, 'page6.html')


def page7(request):
    data_dict['row_145'] = request.POST.get('row145')
    data_dict['row_146'] = request.POST.get('row146')
    data_dict['row_147'] = request.POST.get('row147')
    data_dict['row_148'] = request.POST.get('row148')
    data_dict['row_149'] = request.POST.get('row149')
    data_dict['row_150'] = request.POST.get('row150')
    data_dict['row_151'] = request.POST.get('row151')
    data_dict['row_152'] = request.POST.get('row152')
    data_dict['row_153'] = request.POST.get('row153')
    data_dict['row_154'] = request.POST.get('row154')
    data_dict['row_155'] = request.POST.get('row155')
    data_dict['row_156'] = request.POST.get('row156')
    data_dict['row_157'] = request.POST.get('row157')
    data_dict['row_158'] = request.POST.get('row158')
    data_dict['row_159'] = request.POST.get('row159')
    data_dict['row_160'] = request.POST.get('row160')
    data_dict['row_161'] = request.POST.get('row161')
    data_dict['row_162'] = request.POST.get('row162')
    data_dict['row_163'] = request.POST.get('row163')
    data_dict['row_164'] = request.POST.get('row164')
    data_dict['row_165'] = request.POST.get('row165')
    data_dict['row_166'] = request.POST.get('row166')
    data_dict['row_167'] = request.POST.get('row167')
    data_dict['row_168'] = request.POST.get('row168')
    return render(request, 'page7.html')


def page8(request):
    data_dict['row_169'] = request.POST.get('row169')
    data_dict['row_170'] = request.POST.get('row170')
    data_dict['row_171'] = request.POST.get('row171')
    data_dict['row_172'] = request.POST.get('row172')
    data_dict['row_173'] = request.POST.get('row173')
    data_dict['row_174'] = request.POST.get('row174')
    data_dict['row_175'] = request.POST.get('row175')
    data_dict['row_176'] = request.POST.get('row176')
    data_dict['row_177'] = request.POST.get('row177')
    data_dict['row_178'] = request.POST.get('row178')
    data_dict['row_179'] = request.POST.get('row179')
    data_dict['row_180'] = request.POST.get('row180')
    data_dict['row_181'] = request.POST.get('row181')
    data_dict['row_182'] = request.POST.get('row182')
    data_dict['row_183'] = request.POST.get('row183')
    data_dict['row_184'] = request.POST.get('row184')
    data_dict['row_185'] = request.POST.get('row185')
    data_dict['row_186'] = request.POST.get('row186')
    data_dict['row_187'] = request.POST.get('row187')
    data_dict['row_188'] = request.POST.get('row188')
    data_dict['row_189'] = request.POST.get('row189')
    data_dict['row_190'] = request.POST.get('row190')
    data_dict['row_191'] = request.POST.get('row191')
    data_dict['row_192'] = request.POST.get('row192')
    return render(request, 'page8.html')


def page9(request):
    data_dict['row_193'] = request.POST.get('row193')
    data_dict['row_194'] = request.POST.get('row194')
    data_dict['row_195'] = request.POST.get('row195')
    data_dict['row_196'] = request.POST.get('row196')
    data_dict['row_197'] = request.POST.get('row197')
    data_dict['row_198'] = request.POST.get('row198')
    data_dict['row_199'] = request.POST.get('row199')
    data_dict['row_200'] = request.POST.get('row200')
    data_dict['row_201'] = request.POST.get('row201')
    data_dict['row_202'] = request.POST.get('row202')
    data_dict['row_203'] = request.POST.get('row203')
    data_dict['row_204'] = request.POST.get('row204')
    data_dict['row_205'] = request.POST.get('row205')
    data_dict['row_206'] = request.POST.get('row206')
    data_dict['row_207'] = request.POST.get('row207')
    data_dict['row_208'] = request.POST.get('row208')
    data_dict['row_209'] = request.POST.get('row209')
    data_dict['row_210'] = request.POST.get('row210')
    data_dict['row_211'] = request.POST.get('row211')
    data_dict['row_212'] = request.POST.get('row212')
    data_dict['row_213'] = request.POST.get('row213')
    data_dict['row_214'] = request.POST.get('row214')
    data_dict['row_215'] = request.POST.get('row215')
    data_dict['row_216'] = request.POST.get('row216')
    return render(request, 'page9.html')


def respostas_teste(request):
    request.session['row_1'] = request.POST.get('row1')
    data_dict['row_217'] = request.POST.get('row217')
    data_dict['row_218'] = request.POST.get('row218')
    data_dict['row_219'] = request.POST.get('row219')
    data_dict['row_220'] = request.POST.get('row220')
    data_dict['row_221'] = request.POST.get('row221')
    data_dict['row_222'] = request.POST.get('row222')
    data_dict['row_223'] = request.POST.get('row223')
    data_dict['row_224'] = request.POST.get('row224')
    data_dict['row_225'] = request.POST.get('row225')
    data_dict['row_226'] = request.POST.get('row226')
    data_dict['row_227'] = request.POST.get('row227')
    data_dict['row_228'] = request.POST.get('row228')
    data_dict['row_229'] = request.POST.get('row229')
    data_dict['row_230'] = request.POST.get('row230')
    data_dict['row_231'] = request.POST.get('row231')
    data_dict['row_232'] = request.POST.get('row232')
    data_dict['row_233'] = request.POST.get('row233')
    data_dict['row_234'] = request.POST.get('row234')
    data_dict['row_235'] = request.POST.get('row235')
    data_dict['row_236'] = request.POST.get('row236')
    data_dict['row_237'] = request.POST.get('row237')
    data_dict['row_238'] = request.POST.get('row238')
    data_dict['row_239'] = request.POST.get('row239')
    data_dict['row_240'] = request.POST.get('row240')
    write_pdf(TEMPLATE_PATH, OUTPUT_PATH, request.session)
    print(data_dict)
    return render(request, 'respostas_teste.html', context=data_dict)


def download_pdf_file(request):
    file_name = 'neo_resp.pdf'
    # Defina o caminho completo do arquivo
    path_file = DIR_BASE + '/static/files/' + file_name
    response = HttpResponse(open(path_file, 'rb').read())
    response['Content-Type'] = 'application/pdf'
    response['Content-Disposition'] = "attachment; file_name =% s " % file_name
    return response
